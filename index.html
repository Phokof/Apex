<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="spectre.min.css">
<script type="text/javascript">
function impact(games, top3, damage, kills, revives) {
  if (games === 0) return 0;
  const damagePerGame = damage / games, // Average damage dealt per game.
        killsAndRevsPerGame = (kills + revives) / games, // Average sum of kills and revives per game.
        top3chance = top3 / games; // The chance of placing in Top 3.
  return damagePerGame * killsAndRevsPerGame * (1 + top3chance);
}
</script>
<title>Apex Legends Performance Rating Calculator</title>
</head>
<body>
<div class="container">
  <h1>Apex Legends Performance Rating Calculator</h1>
  <div class="columns">
    <div class="column col-2">
      <form class="form-group" id="stats">
        <fieldset>
          <legend>Please input a legend's stats:</legend>

          <label class="form-label" for="games">Games Played:</label>
          <input class="form-input" name="games" type="number" min="30" required>

          <label class="form-label" for="top3">Times Placed Top 3:</label>
          <input class="form-input" name="top3" type="number" min="0">

          <label class="form-label" for="damage">Damage Done:</label>
          <input class="form-input" name="damage" type="number" min="0">

          <label class="form-label" for="kills">Kills:</label>
          <input class="form-input" name="kills" type="number" min="0">

          <label class="form-label" for="revives">Revives:</label>
          <input class="form-input" name="revives" type="number" min="0">

        </fieldset>
        <input type="submit" value="Calculate">
      </form>
    </div>
    <div class="column col-10" id="results" hidden>
      <div class="hero">
        <div class="hero-body">
          <h1>Rating: <span id="result" style="color:GoldenRod;"></span></h1>
          <p><a href="https://github.com/Phokof/Phokof.github.io/blob/master/index.html#L6-L12">How is this calculated?</a></p>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
<script type="text/javascript">
  document.querySelector('form#stats').addEventListener('submit', evt => {
    evt.preventDefault();
    let score = impact(
      parseInt(document.querySelector('input[name="games"]').value),
      parseInt(document.querySelector('input[name="top3"]').value),
      parseInt(document.querySelector('input[name="damage"]').value),
      parseInt(document.querySelector('input[name="kills"]').value),
      parseInt(document.querySelector('input[name="revives"]').value)
    );
    document.querySelector('#result').textContent = String(Math.round(score));
    document.querySelector('#results').hidden = false;
  });
</script>
</html>
